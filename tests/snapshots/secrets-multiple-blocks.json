{
  "status": "success",
  "outputs": {
    "shell_success": "true",
    "http_success": "true",
    "http_status": "200",
    "file_success": "true",
    "template_success": "true",
    "all_verified": "true",
    "cleanup_done": "true"
  },
  "blocks": {
    "shell_with_secret": {
      "inputs": {
        "command": "echo \"Shell secret test\"",
        "env": {
          "SECRET_VALUE": "multi-block-test-value"
        }
      },
      "outputs": {
        "exit_code": 0,
        "stdout": "Shell secret test\n",
        "stderr": ""
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 5.931640625,
        "started_at": "2025-11-02T10:36:12.255374+00:00",
        "completed_at": "2025-11-02T10:36:12.261279+00:00",
        "wave": 0,
        "execution_order": 0,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    },
    "http_with_secret": {
      "inputs": {
        "url": "https://httpbin.org/headers",
        "method": "GET",
        "headers": {
          "X-Secret-Header": "multi-block-test-value",
          "User-Agent": "workflows-mcp-test"
        },
        "timeout": 10
      },
      "outputs": {
        "status_code": 200,
        "response_body": "{\n  \"headers\": {\n    \"Accept\": \"*/*\", \n    \"Accept-Encoding\": \"gzip, deflate\", \n    \"Host\": \"httpbin.org\", \n    \"User-Agent\": \"workflows-mcp-test\", \n    \"X-Amzn-Trace-Id\": \"Root=1-6907341c-1195e19e3a11daac60be6f43\", \n    \"X-Secret-Header\": \"***REDACTED***\"\n  }\n}\n",
        "response_json": {
          "headers": {
            "Accept": "*/*",
            "Accept-Encoding": "gzip, deflate",
            "Host": "httpbin.org",
            "User-Agent": "workflows-mcp-test",
            "X-Amzn-Trace-Id": "Root=1-6907341c-1195e19e3a11daac60be6f43",
            "X-Secret-Header": "***REDACTED***"
          }
        },
        "headers": {
          "date": "Sun, 02 Nov 2025 10:36:13 GMT",
          "content-type": "application/json",
          "content-length": "271",
          "connection": "keep-alive",
          "server": "gunicorn/19.9.0",
          "access-control-allow-origin": "*",
          "access-control-allow-credentials": "true"
        },
        "success": true
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 617.605712890625,
        "started_at": "2025-11-02T10:36:12.261791+00:00",
        "completed_at": "2025-11-02T10:36:12.879393+00:00",
        "wave": 1,
        "execution_order": 1,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    },
    "file_with_secret": {
      "inputs": {
        "path": "/tmp/test-secrets-multiple/secret.txt",
        "content": "This file contains a secret: multi-block-test-value\nCreated by workflow\n",
        "create_parents": true
      },
      "outputs": {
        "path": "/private/tmp/test-secrets-multiple/secret.txt",
        "size_bytes": 72,
        "created": true
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 0.452880859375,
        "started_at": "2025-11-02T10:36:12.879935+00:00",
        "completed_at": "2025-11-02T10:36:12.880388+00:00",
        "wave": 2,
        "execution_order": 2,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    },
    "template_with_secret": {
      "inputs": {
        "template": "Configuration:\nsecret = {{ secret_value }}\ntimestamp = {{ timestamp }}\n",
        "variables": {
          "secret_value": "multi-block-test-value",
          "timestamp": "2025-11-02T10:36:12.255254+00:00"
        },
        "output_path": "/tmp/test-secrets-multiple/config.txt",
        "create_parents": true
      },
      "outputs": {
        "content": "Configuration:\nsecret = ***REDACTED***\ntimestamp = 2025-11-02T10:36:12.255254+00:00",
        "output_path": "/private/tmp/test-secrets-multiple/config.txt",
        "size_bytes": 91
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 0.97998046875,
        "started_at": "2025-11-02T10:36:12.880644+00:00",
        "completed_at": "2025-11-02T10:36:12.881617+00:00",
        "wave": 3,
        "execution_order": 3,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    },
    "verify_all_succeeded": {
      "inputs": {
        "command": "if [ \"true\" = \"true\" ] && \\\n   [ \"true\" = \"true\" ] && \\\n   [ \"true\" = \"true\" ] && \\\n   [ \"true\" = \"true\" ]; then\n  echo \"All blocks with secrets succeeded\"\nelse\n  echo \"Some blocks failed\"\n  exit 1\nfi\n"
      },
      "outputs": {
        "exit_code": 0,
        "stdout": "All blocks with secrets succeeded\n",
        "stderr": ""
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 5.76416015625,
        "started_at": "2025-11-02T10:36:12.881879+00:00",
        "completed_at": "2025-11-02T10:36:12.887623+00:00",
        "wave": 4,
        "execution_order": 4,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    },
    "cleanup": {
      "inputs": {
        "command": "rm -rf \"/tmp/test-secrets-multiple\""
      },
      "outputs": {
        "exit_code": 0,
        "stdout": "",
        "stderr": ""
      },
      "metadata": {
        "status": "completed",
        "outcome": "success",
        "execution_time_ms": 6.970947265625,
        "started_at": "2025-11-02T10:36:12.888244+00:00",
        "completed_at": "2025-11-02T10:36:12.895203+00:00",
        "wave": 5,
        "execution_order": 5,
        "message": null,
        "succeeded": true,
        "failed": false,
        "skipped": false
      },
      "blocks": {},
      "depth": 0
    }
  },
  "metadata": {
    "workflow_name": "secrets-multiple-blocks",
    "start_time": "2025-11-02T10:36:12.255254+00:00",
    "total_blocks": 6,
    "execution_waves": 6,
    "completed_at": "2025-11-02T10:36:12.895651+00:00",
    "execution_time_seconds": 0.6404497623443604,
    "secret_access_count": 4
  }
}