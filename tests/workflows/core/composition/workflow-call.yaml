name: composition-workflow-call
description: Test calling a child workflow from parent workflow
tags: [test, core, composition, parent]
inputs:
  number_a:
    type: num
    default: 3
    description: "First number to pass to child"
  number_b:
    type: num
    default: 5
    description: "Second number to pass to child"
  operation:
    type: str
    default: "*"
    description: "Operation to perform in child"
blocks:
  - id: call_child
    type: Workflow
    inputs:
      workflow: "composition-child-calculator"
      inputs:
        number_a: "{{inputs.number_a}}"
        number_b: "{{inputs.number_b}}"
        operation: "{{inputs.operation}}"
  - id: verify_result
    type: Shell
    inputs:
      command: 'echo "Child returned: {{blocks.call_child.outputs.result}}"'
    depends_on: [call_child]
outputs:
  child_succeeded:
    value: "{{blocks.call_child.succeeded}}"
    type: bool
  result:
    value: "{{blocks.call_child.outputs.result}}"
    type: num
  parent_verified:
    value: "{{blocks.verify_result.succeeded}}"
    type: bool
